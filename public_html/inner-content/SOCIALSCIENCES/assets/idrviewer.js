/*! IDRViewer - v1.12.1 | Copyright 2021 IDRsolutions */
!function(){"use strict";var a,b,c,d,e={LAYOUT_PRESENTATION:"presentation",LAYOUT_MAGAZINE:"magazine",LAYOUT_CONTINUOUS:"continuous",SELECT_SELECT:"select",SELECT_PAN:"pan",ZOOM_SPECIFIC:"specific",ZOOM_ACTUALSIZE:"actualsize",ZOOM_FITWIDTH:"fitwidth",ZOOM_FITHEIGHT:"fitheight",ZOOM_FITPAGE:"fitpage",ZOOM_AUTO:"auto"},f=1,g=0,h=[],i=10,j=!1;e.setup=function(p){p||(p=IDRViewer.config),j=!0,d=p.bounds,g=p.pagecount,(f<1||f>g)&&(f=1),b=document.getElementById("idrviewer");var q=document.createElement("div");q.style.position="relative",q.style.display="inline-block",q.style.verticalAlign="middle",q.style.minWidth="100%",q.style.lineHeight="normal",b.appendChild(q),a=document.createElement("div"),a.id="contentContainer",a.style.overflow="hidden",a.style.transform="translateZ(0)",a.style.padding=i/2+"px",q.appendChild(a);for(var r=1;r<=g;r++){var s=document.createElement("div");s.id="page"+r,s.setAttribute("style","width: "+d[r-1][0]+"px; height: "+d[r-1][1]+"px;"),s.className="page",a.appendChild(s),h[r]=s}n.setup(),l.setup(),k.setup(p.pageType,p.url),m.setup(!!p.isR2L),o.setup(),c.goToPage(f),l.setPage(f,!0);var t={selectMode:n.currentSelectMode,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),layout:c.toString(),availableLayouts:m.getAvailableLayouts(),isFirstPage:1===f,isLastPage:c.isLastPage(f)};for(var u in p)p.hasOwnProperty(u)&&(t[u]=p[u]);t.page=f,e.fire("ready",t)};var k=function(){var a,b,c,e={},f=!1,i=[],j="file:"===location.protocol,k="";e.setup=function(d,e){c="svgz"===d,b=c||"svg"===d,e&&(k=e);var f=document.createElement("style");f.setAttribute("type","text/css"),document.head.appendChild(f),a=f.sheet,b&&window.addEventListener("mousedown",function(a){0===a.button&&n(window)})},e.clearSelection=function(){b?n(window):m(window)};var m=function(a){try{a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():a.document.selection&&a.document.selection.empty()}catch(b){}},n=function(a){try{m(a);for(var b=1;b<=g;b++)l.isVisible(b)&&m(h[b].firstChild.contentDocument)}catch(c){}},o=function(a,b){var c=document.createElement("iframe");c.setAttribute("class","page-inner"),c.setAttribute("src",k+a+".html"),c.setAttribute("style","width: "+d[a-1][0]+"px; height: "+d[a-1][1]+"px; position: absolute; border: 0;"),c.onload=b,h[a].appendChild(c)},q=function(a,b){var e=function(){this.removeEventListener("load",e);try{this.contentDocument.addEventListener("mousedown",function(a){0===a.button&&n(window)})}catch(a){}b()},f=document.createElement("object");f.setAttribute("width",""+d[a-1][0]),f.setAttribute("height",""+d[a-1][1]),f.setAttribute("data",k+a+(c?".svgz":".svg")),f.setAttribute("type","image/svg+xml"),f.setAttribute("class","page-inner"),f.setAttribute("style","position: absolute"),f.addEventListener("load",e),h[a].appendChild(f)},r=function(b,c,d){var e=document.createElement("div");e.innerHTML=b;var g=e.querySelector("#p"+c);g.style.margin="0",g.style.overflow="hidden",g.style.position="absolute";var j=function(){this&&this.removeEventListener("load",j),d()},l=g.querySelector("#pdf"+c),m=l.getAttribute("data")||l.getAttribute("src");if(m&&l.addEventListener("load",j),k){var n=l.getAttribute("data");n?l.setAttribute("data",k+n):(n=l.getAttribute("src"),n&&n.indexOf("base64")===-1&&l.setAttribute("src",k+n))}var o=g.querySelector("#fonts"+c);if(o){var q=o.innerHTML;o.parentNode.removeChild(o),q.match(/@font-face {[\s\S]*?}/g).forEach(function(b){i.indexOf(b)===-1&&(i.push(b),a.insertRule(b.replace('url("','url("'+k),a.cssRules.length))})}var r=g.querySelector(".shared-css");r&&(r.parentNode.removeChild(r),f||(document.head.appendChild(r),f=!0)),p.addClass(g,"page-inner"),h[c].appendChild(g),m||j()},s=function(a,b){var c=new XMLHttpRequest;c.open("GET",k+a+".html",!0),c.onload=function(){c.status>=200&&c.status<400?r(c.responseText,a,b):o(a,b)},c.onerror=function(){o(a,b)},c.send()};return e.show=function(a){h[a].firstChild.style.display="block"},e.hide=function(a){h[a].firstChild.style.display="none"},e.load=function(a,c){b?q(a,c):j?o(a,c):s(a,c)},e.unload=function(a){h[a].removeChild(h[a].firstChild)},e}(),l=function(){var a,b,c,d={LOADING:"loading",HIDDEN:"hidden",UNLOADED:"unloaded",LOADED:"loaded"},f={},h=500,i=50,j=20,l=2,m=0,n=0,o=0,p=[];f.setup=function(){c=g;for(var a=1;a<=g;a++)p[a]=d.UNLOADED};var q=function(a,b){r(p[a],b),p[a]=b},r=function(a,b){switch(a){case d.LOADING:m--;break;case d.LOADED:n--;break;case d.HIDDEN:o--;break;case d.UNLOADED:c--}switch(b){case d.LOADING:m++;break;case d.LOADED:n++;break;case d.HIDDEN:o++;break;case d.UNLOADED:c++}},s=function(a){return p[a]===d.LOADED},t=function(a){return p[a]===d.LOADED||p[a]===d.HIDDEN},u=function(a){p[a]===d.LOADED&&(q(a,d.HIDDEN),k.hide(a))},v=function(a){if(p[a]===d.HIDDEN&&(q(a,d.LOADED),k.show(a)),p[a]===d.UNLOADED){q(a,d.LOADING);var b=function(){q(a,d.LOADED),e.fire("pageload",{page:a})};k.load(a,b)}},w=function(a){p[a]!==d.LOADED&&p[a]!==d.HIDDEN||(q(a,d.UNLOADED),k.unload(a),e.fire("pageunload",{page:a}))},x=function(){if(v(a),m<l)for(var d=1;d<j/2&&(y(a-d)&&(s(a-d)||v(a-d)),m!==l)&&(y(a+d)&&(s(a+d)||v(a+d)),m!==l);d++);for(var e=1,f=g;n+m>j;)a-e>f-a?(s(e)&&u(e),e++):(s(f)&&u(f),f--);for(e=1,f=g;g-c>i;)a-e>f-a?(t(e)&&w(e),e++):(t(f)&&w(f),f--);b=setTimeout(x,h)},y=function(a){return a>=1&&a<=g};return f.setPage=function(c,d){a=c,d&&v(c),clearTimeout(b),b=setTimeout(x,h)},f.stopLoading=function(){clearTimeout(b),b=setTimeout(x,h)},f.hide=u,f.isVisible=s,f}(),m=function(){var a,h={},i={},j=!0,k=!1;return h.setup=function(e){k=e;for(var f=0;f<g;f++)if(d[f][0]!==d[0][0]||d[f][1]!==d[0][1]){j=!1;break}c=i[a]||i[IDRViewer.LAYOUT_CONTINUOUS],c.setup(j,k),p.addClass(b,"layout-"+c.toString()),k&&p.addClass(b,"isR2L")},h.setLayout=function(a){c.unload(),p.removeClass(b,"layout-"+c.toString()),c=i[a],c.setup(j,k),p.addClass(b,"layout-"+c.toString()),o.updateZoom(IDRViewer.ZOOM_AUTO),c.goToPage(f),e.fire("layoutchange",{layout:a})},h.addLayout=function(a,b){i[a]=b},h.setDefault=function(b){a=b},h.getAvailableLayouts=function(){return Object.keys(i)},h.updatePage=function(a){f!=a&&(f=a,l.setPage(a),e.fire("pagechange",{page:f,pagecount:g,isFirstPage:1===f,isLastPage:c.isLastPage(a)}))},h}();m.addLayout(e.LAYOUT_PRESENTATION,function(){var c,j={};j.setup=function(a){c=a},j.unload=function(){for(var b=1;b<=g;b++)h[b].style.marginLeft="",h[b].style.marginTop="",p.removeClass(h[b],"current","prev","next","before","after");a.style.width="",a.style.height=""},j.goToPage=function(a){m.updatePage(a),c||o.updateZoom(),b.scrollTop=0,k(a),j.updateLayout()},j.getVisiblePages=function(){return[f]};var k=function(a){for(var b=1;b<=g;b++)p.removeClass(h[b],"current","prev","next","before","after"),b<a?p.addClass(h[b],"before"):b>a&&p.addClass(h[b],"after");p.addClass(h[a],"current"),a-1>=1&&p.addClass(h[a-1],"prev"),a+1<=g&&p.addClass(h[a+1],"next")};return j.updateLayout=function(){var c=o.getZoom(),e=Math.floor(d[f-1][0]*c),j=0,k=b.clientWidth-i;k>e?j=(k-e)/2:k=e;var l=Math.floor(d[f-1][1]*c),m=0,n=b.clientHeight-i;n>l?m=(n-l)/2:n=l,a.style.width=k+"px",a.style.height=n+"px";for(var p=1;p<=g;p++)h[p].style.marginLeft=j+"px",h[p].style.marginTop=m+"px"},j.isLastPage=function(a){return a===g},j.getZoomBounds=function(){return{width:d[f-1][0],height:d[f-1][1]}},j.getAutoZoom=function(a,b){return Math.min(a,b)},j.next=function(){e.goToPage(f+1)},j.prev=function(){e.goToPage(f-1)},j.toString=function(){return IDRViewer.LAYOUT_PRESENTATION},j}()),m.addLayout(e.LAYOUT_MAGAZINE,function(){function c(a){return a>1&&a<g}var j,k,l={};l.setup=function(a,b){j=a,k=b},l.unload=function(){for(var b=1;b<=g;b++)h[b].style.marginLeft="",h[b].style.marginTop="",p.removeClass(h[b],"current","prev","next","before","after");a.style.width="",a.style.height=""},l.goToPage=function(a){1!==a&&a%2!==0&&(a-=1),m.updatePage(a),j||o.updateZoom(),n(a),l.updateLayout()},l.getVisiblePages=function(){var a=[f];return c(f)&&a.push(f+1),a};var n=function(a){for(var b=1;b<=g;b++)p.removeClass(h[b],"current","prev","next","before","after");if(p.addClass(h[a],"current"),c(a)&&p.addClass(h[a+1],"current"),1==a&&(a=0),a+2<=g&&(p.addClass(h[a+2],"next"),a+3<=g&&p.addClass(h[a+3],"next")),a-1>0&&(p.addClass(h[a-1],"prev"),a-2>0&&p.addClass(h[a-2],"prev")),a+4<=g)for(b=a+4;b<=g;b++)p.addClass(h[b],"after");if(a-3>0)for(b=a-3;b>0;b--)p.addClass(h[b],"before")};return l.updateLayout=function(){var e=c(f),j=o.getZoom(),l=Math.floor(d[f-1][0]*j),m=e?Math.floor(d[f][0]*j):l,n=2*Math.max(l,m),p=Math.max(n,b.clientWidth-i),q=Math.floor(p/2),r=q,s=q;k?s-=m:r-=l;var t=Math.floor(d[f-1][1]*j),u=e?Math.floor(d[f][1]*j):t,v=Math.max(t,u,b.clientHeight-i),w=Math.floor((v-(k?u:t))/2),x=Math.floor((v-(k?t:u))/2);a.style.width=p+"px",a.style.height=v+"px",h[1].style.marginLeft=s+"px",h[1].style.marginTop=x+"px";for(var y=2;y<=g;y+=2)h[y].style.marginLeft=r+"px",h[y].style.marginTop=w+"px",y<g&&(h[y+1].style.marginLeft=s+"px",h[y+1].style.marginTop=x+"px")},l.isLastPage=function(a){return a+(1==a?1:2)>g},l.getZoomBounds=function(){var a=c(f),b=Math.floor(d[f-1][0]),e=a?Math.floor(d[f][0]):0,g=Math.floor(d[f-1][1]),h=a?Math.floor(d[f][1]):0;return{width:2*Math.max(b,e),height:Math.max(g,h)}},l.getAutoZoom=function(a,b){return Math.min(a,b)},l.next=function(){e.goToPage(f+(1==f?1:2))},l.prev=function(){e.goToPage(f-1)},l.toString=function(){return IDRViewer.LAYOUT_MAGAZINE},l}()),m.addLayout(e.LAYOUT_CONTINUOUS,function(){var a={},c=0,j=0,k=[];a.setup=function(){b.addEventListener("scroll",n);for(var a=0;a<g;a++)d[a][0]>c&&(c=d[a][0]),d[a][1]>j&&(j=d[a][1])},a.unload=function(){b.removeEventListener("scroll",n)};var n=function(){l.stopLoading(),p()},p=function(){var a,b;if(h[1].getBoundingClientRect().top>0)m.updatePage(1);else for(a=1;a<=g;a++){var c=h[a].getBoundingClientRect();b=c.top;var d=c.bottom-c.top;if(b<=.25*d&&b>.5*-d){m.updatePage(a);break}}q()},q=function(){k=[f];var a,c,d=b.clientHeight,e=function(a){return c=h[a].getBoundingClientRect(),c.bottom>0&&c.top<d};for(a=f-1;a>=1&&e(a);a--)k.push(a);for(a=f+1;a<=g&&e(a);a++)k.push(a)};return a.goToPage=function(a,c){var e=0;if(c){var f=c.split(" ");switch(f[0]){case"XYZ":e=Number(f[2]);break;case"FitH":e=Number(f[1]);break;case"FitR":e=Number(f[4]);break;case"FitBH":e=Number(f[1])}(isNaN(e)||e<0||e>d[a-1][1])&&(e=0),0!==e&&(e=d[a-1][1]-e)}var g=o.getZoom();b.scrollTop=h[a].offsetTop-i/2+e*g,m.updatePage(a),q()},a.getVisiblePages=function(){return k},a.updateLayout=function(){},a.isLastPage=function(a){return a===g},a.getZoomBounds=function(){return{width:c,height:j}},a.getAutoZoom=function(c){return a.getZoomBounds().width>b.clientWidth-i?c:1},a.next=function(){e.goToPage(f+1)},a.prev=function(){e.goToPage(f-1)},a.toString=function(){return IDRViewer.LAYOUT_CONTINUOUS},a}());var n=function(){var c,d,f,g,h={},i=!1;h.setup=function(){switch(g=document.createElement("div"),g.id="overlay",a.parentNode.insertBefore(g,a),f){case IDRViewer.SELECT_PAN:case IDRViewer.SELECT_SELECT:break;default:f=IDRViewer.SELECT_SELECT}this.currentSelectMode=f,this.currentSelectMode==e.SELECT_SELECT?h.enableTextSelection():h.enablePanning()},h.enableTextSelection=function(){this.currentSelectMode=e.SELECT_SELECT,p.removeClass(g,"panning"),g.removeEventListener("mousedown",j),document.removeEventListener("mouseup",l),g.removeEventListener("mousemove",m)};var j=function(a){return a=a||window.event,p.addClass(g,"mousedown"),c=a.clientX,d=a.clientY,i=!0,!1},l=function(){p.removeClass(g,"mousedown"),i=!1},m=function(a){if(i)return a=a||window.event,b.scrollLeft=b.scrollLeft+c-a.clientX,b.scrollTop=b.scrollTop+d-a.clientY,c=a.clientX,d=a.clientY,!1};return h.enablePanning=function(){this.currentSelectMode=e.SELECT_PAN,k.clearSelection(),p.addClass(g,"panning"),g.addEventListener("mousedown",j),document.addEventListener("mouseup",l),g.addEventListener("mousemove",m)},h.setDefaultMode=function(a){f=a},h}();e.setSelectMode=function(a){j?(a==e.SELECT_SELECT?n.enableTextSelection():n.enablePanning(),e.fire("selectchange",{type:a})):n.setDefaultMode(a)};var o=function(){var a,f,j,k={},m=e.ZOOM_AUTO,n=[.25,.5,.75,1,1.25,1.5,2,2.5,3,3.5,4],o=[e.ZOOM_AUTO,e.ZOOM_FITPAGE,e.ZOOM_FITHEIGHT,e.ZOOM_FITWIDTH,e.ZOOM_ACTUALSIZE],p=0,q=1;k.setup=function(){var a=document.createElement("style");a.setAttribute("type","text/css"),document.head.appendChild(a),f=a.sheet,window.addEventListener("resize",function(){s()}),s(j)};var r=function(a,b,c,d,e){var f;return f=e?"translate3d("+b+"px, "+c+"px, 0) scale("+d+")":"translateX("+b+"px) translateY("+c+"px) scale("+d+")","-webkit-transform: "+f+";\n-ms-transform: "+f+";\ntransform: "+f+";"},s=function(i){l.stopLoading(),q=v(i);var j=!1,k=!1;q>=4?(q=4,k=!0):q<=.25&&(q=.25,j=!0);var n=b.scrollTop/b.scrollHeight;c.updateLayout();for(var o=c.getVisiblePages(),t=1;t<=g;t++)o.indexOf(t)===-1&&l.hide(t);a&&f.deleteRule(a);var u=r(null,0,0,q,!1);a=f.insertRule(".page-inner { \n"+u+"\n}",f.cssRules.length);for(var w=0;w<g;w++)h[w+1].style.width=Math.floor(d[w][0]*q)+"px",h[w+1].style.height=Math.floor(d[w][1]*q)+"px";b.scrollTop=b.scrollHeight*n,p++,p%2===1&&s(),e.fire("zoomchange",{zoomType:m,zoomValue:q,isMinZoom:j,isMaxZoom:k})},t=function(){for(var a=q,b=n[n.length-1],c=0;c<n.length;c++)if(n[c]>a){b=n[c];break}var d;for(c=0;c<o.length;c++){var e=v(o[c]);if(e>a&&e<=b){if(d&&e===b)continue;d=o[c],b=e}}return d||b},u=function(){for(var a=q,b=n[0],c=n.length-1;c>=0;c--)if(n[c]<a){b=n[c];break}var d;for(c=0;c<o.length;c++){var e=v(o[c]);if(e<a&&e>=b){if(d&&e===b)continue;d=o[c],b=e}}return d||b},v=function(a){var d=c.getZoomBounds(),f=(b.clientWidth-i)/d.width,g=(b.clientHeight-i)/d.height,h=parseFloat(a);switch(isNaN(h)||(q=h,a=e.ZOOM_SPECIFIC),a||(a=m),a){case e.ZOOM_AUTO:q=c.getAutoZoom(f,g);break;case e.ZOOM_FITWIDTH:q=f;break;case e.ZOOM_FITHEIGHT:q=g;break;case e.ZOOM_FITPAGE:q=Math.min(f,g);break;case e.ZOOM_ACTUALSIZE:q=1}return m=a,q};return k.updateZoom=s,k.zoomIn=function(){s(t())},k.zoomOut=function(){s(u())},k.getZoom=function(){return q},k.setDefault=function(a){j=a},k}();e.zoomIn=function(){o.zoomIn()},e.zoomOut=function(){o.zoomOut()},e.setZoom=function(a){j?o.updateZoom(a):o.setDefault(a)},e.goToPage=function(a,b){j?a>=1&&a<=g&&c.goToPage(Number(a),b):f=a},e.next=function(){c.next()},e.prev=function(){c.prev()},e.setLayout=function(a){j?m.setLayout(a):m.setDefault(a)},e.updateLayout=function(){o.updateZoom()},function(){var a={};e.on=function(b,c){a[b]||(a[b]=[]),a[b].indexOf(c)===-1&&a[b].push(c)},e.off=function(b,c){if(a[b]){var d=a[b].indexOf(c);d!==-1&&a[b].splice(d,1)}},e.fire=function(b,c){a[b]&&a[b].forEach(function(a){a(c)})}}();var p=function(){return{addClass:function(a,b){var c=0!==a.className.length?a.className.split(" "):[],d=c.indexOf(b);d===-1&&(c.push(b),a.className=c.join(" "))},removeClass:function(){for(var a=arguments[0],b=0!==a.className.length?a.className.split(" "):[],c=1;c<arguments.length;c++){var d=b.indexOf(arguments[c]);d!==-1&&b.splice(d,1)}a.className=b.join(" ")}}}();"function"==typeof define&&define.amd?define(["idrviewer"],[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.IDRViewer=e}();